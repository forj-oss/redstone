#
# (c) Copyright 2014 Hewlett-Packard Development Company, L.P.
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
#

# hieradata automatically generated by 'a script python to create'.py
#
#
#
# PYTHON comment: classes is a data retrieved from the 'openstack-layout.yaml'
# PYTHON comment: It uses name and list of application (attaching a class name for each application, determined from the openstack-master.yaml)
classes:
  - maestro::node_vhost_lookup
  - cdk_project::jenkins
  - cdk_project::zuul
  - maestro::backup::configure_box
  - maestro::backup::manage_backup
  - maestro::app::tool_status
  - sysadmin_config::manage_servers

#Jenkins tool
cdk_project::jenkins::vhost_name:               "%{::maestro::node_vhost_lookup::vname}"
cdk_project::jenkins::jenkins_jobs_password:    ''
cdk_project::jenkins::jenkins_jobs_username:    'gerrig'
cdk_project::jenkins::manage_jenkins_jobs:      true
cdk_project::jenkins::ssl_cert_file:            "/etc/ssl/certs/%{::fqdn}.pem"
cdk_project::jenkins::ssl_key_file:             "/etc/ssl/private/%{::fqdn}.key"
cdk_project::jenkins::ssl_chain_file:           '/etc/ssl/certs/intermediate.pem'
cdk_project::jenkins::ssl_cert_file_contents:   ''
cdk_project::jenkins::ssl_key_file_contents:    ''
cdk_project::jenkins::ssl_chain_file_contents:  ''
cdk_project::jenkins::jenkins_ssh_private_key:  ''
cdk_project::jenkins::ca_certs_db:              '/opt/config/cacerts'
cdk_project::jenkins::gerrit_url:               ''
cdk_project::jenkins::gerrit_user:              'jenkins'
cdk_project::jenkins::install_fortify:          false
cdk_project::jenkins::jenkins_solo:             true
cdk_project::jenkins::zmq_event_receivers:      ''
cdk_project::jenkins::sysadmins:                ''
cdk_project::jenkins::openidssourl:             'https://login.launchpad.net/+openid'
cdk_project::jenkins::logo:                     'puppet:///modules/openstack_project/openstack.png'
cdk_project::jenkins::job_builder_configs:
  - 'zuul-layout.yaml'
  - 'fortify-scan.yaml'
  - 'flake8.yaml'
  - 'publish-to-stackato.yaml'
  - 'puppet-checks.yaml'

#Zuul tool
cdk_project::zuul::vhost_name:        "%{::maestro::node_vhost_lookup::vname}"
cdk_project::zuul::gerrit_url:        ''
cdk_project::zuul::gerrit_user:       'jenkins'
cdk_project::zuul::zuul_private_key:  ''
cdk_project::zuul::ca_certs_db:       '/opt/config/cacerts'
cdk_project::zuul::url_pattern:       ''
cdk_project::zuul::graphite_url:      ''
cdk_project::zuul::zuul_url:          "http://%{::maestro::node_vhost_lookup::vname}/p"
cdk_project::zuul::zuul_revision:     '2de0c2a37a8d52a09d1375e374deeec52fea38bf'
cdk_project::zuul::replication_urls:  ''
cdk_project::zuul::sysadmins:         ''
cdk_project::zuul::gearman_workers:   ''

# backup tool
maestro::backup::set_app_backup:
  jenkins: 
    app_location:     '/var/lib/jenkins'
    db_name:          ''
    db_backup_tool:   ''
    db_user:          ''
    db_password:      ''

# setup server (iptables, rsyslog, tcpdump, ssh)
sysadmin_config::manage_servers::iptables_public_tcp_ports:
  - 80
  - 443
  - 4730
  - 8139
  - 8140
  - 29418

# Tool status
maestro::tool_status::source: 'puppet:///modules/runtime_project/tool_status/ci/toolstatus.sh'
